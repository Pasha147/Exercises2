<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Promise by Vladilen</h1>
    <h3>open console</h3>
  </body>
  <script>
    //== 1 =======================================
    // console.log('Request data...');
    // setTimeout(()=>{
    //     console.log('Preparing data...');
    //     const backendData = {
    //         server: 'aws',
    //         port: 2000,
    //         status: 'working',
    //     }

    //     setTimeout(()=>{
    //         backendData.modified=true;
    //         console.log('Data received',backendData);
    //     },2000)

    // },2000)
    //-------------------===========-------------------

    //=== 2 =================================================
    //   console.log("Request data...");

    // const p = new Promise(function (resolve, reject) {
    //   setTimeout(() => {
    //     console.log("Preparing data...");
    //     const backendData = {
    //       server: "aws",
    //       port: 2000,
    //       status: "working",
    //     };
    //     resolve(backendData);
    //     console.log("after resolve");
    //   }, 2000);
    // });

    // p.then((data) => {
    //   // console.log('Promise resolved',data);
    // //   const p2 = new Promise((resolve, reject) => {
    //   return new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //       data.modified = true;
    //     //   resolve(data);
    //       reject(data);
    //       // console.log('Data received',backendData);
    //     }, 2000);
    //   });

    // //   p2.then((clientData) => {
    // //     console.log("Data received", clientData);
    // //   });
    // })
    // // .catch(err=>console.error('Error:',err))
    // .then(clientData=>{
    //     console.log("Data received", clientData);
    //     clientData.fromPromise=true;
    //     return clientData
    // }).then(data=>{
    //     console.log('Modified -->',data);
    // })
    // .catch(err=>console.error('Error:',err))
    // .finally(()=>console.log('Finally')) 
    //------------------=====================-------------------


    //=== 3 =================================================
    // const sleep = (ms) => {
    //   return new Promise((resolve) => {
    //     setTimeout(() => {resolve()}, ms);
    //   });
    // };

    // sleep(2000).then(()=>console.log('after 2 seconds'))
    // sleep(3000).then(()=>console.log('after 3 seconds'))
    //--------------================----------------

    //=== 4 =================================================
    const sleep = (ms) => {
      return new Promise((resolve) => {
        setTimeout(() => {resolve()}, ms);
      });
    };

    Promise.all([sleep(2000), sleep(4000)]).then(()=>{
        console.log('All promises');
    })

    Promise.race([sleep(2000), sleep(4000)]).then(()=>{
        console.log('Race promises');
    })
    
    //--------------================---------------



  </script>
</html>
